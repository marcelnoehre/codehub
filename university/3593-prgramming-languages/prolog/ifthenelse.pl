ifthenelse(A, B, C) :- A, !, B.
ifthenelse(A, B, C) :- C.